%YAML:1.0

#--------------------------------------------------------------------------------------------
# Camera Parameters. Adjust them!
#--------------------------------------------------------------------------------------------
Camera.type: "PinHole"  # 你的畸变模型是RadTan，不是KannalaBrandt8

# Left Camera calibration and distortion parameters (OpenCV)
Camera.fx: 473.3809
Camera.fy: 473.3412
Camera.cx: 312.5327
Camera.cy: 238.1654

# RadTan distortion parameters (k1,k2,p1,p2,k3)
Camera.k1: 0.0589
Camera.k2: -0.0156
Camera.p1: 0.0
Camera.p2: 0.0
Camera.k3: 0.0

# Right Camera calibration and distortion parameters (OpenCV)
Camera2.fx: 473.5456
Camera2.fy: 473.3789
Camera2.cx: 333.9973
Camera2.cy: 239.1065

# RadTan distortion parameters
Camera2.k1: 0.0916
Camera2.k2: -0.1072
Camera2.p1: 0.0
Camera2.p2: 0.0
Camera2.k3: 0.0

# Transformation matrix from right camera to left camera
Tlr: !!opencv-matrix
  rows: 3
  cols: 4
  dt: f
  data: [1.0000, 0.00187779299260463, 0.0026, -144.9416,
        0.0003, 1.0000, -0.0004, 0.1447,
        -0.0026, 0.0004, 1.0000, 2.5046]

# Camera resolution (与你的size参数一致)
Camera.width: 640
Camera.height: 480

# Lapping area (双目重叠区域，可先设为全分辨率)
Camera.lappingBegin: 0
Camera.lappingEnd: 639  # width-1

Camera2.lappingBegin: 0
Camera2.lappingEnd: 639

# Camera frames per second 
Camera.fps: 30.0

# Color order (根据你的摄像头数据格式设置)
Camera.RGB: 1  # 0=BGR, 1=RGB

# Close/Far threshold. Baseline times.
ThDepth: 40.0

# stereo baseline times fx (单位：像素)
Camera.bf: 68.6  # |Tx| * fx = 0.1449416 * 473.3809

#--------------------------------------------------------------------------------------------
# ORB Parameters
#--------------------------------------------------------------------------------------------
ORBextractor.nFeatures: 1000
ORBextractor.scaleFactor: 1.2
ORBextractor.nLevels: 8
ORBextractor.iniThFAST: 15
ORBextractor.minThFAST: 7

#--------------------------------------------------------------------------------------------
# Viewer Parameters
#--------------------------------------------------------------------------------------------
Viewer.KeyFrameSize: 0.05
Viewer.KeyFrameLineWidth: 1
Viewer.GraphLineWidth: 0.9
Viewer.PointSize: 2
Viewer.CameraSize: 0.08
Viewer.CameraLineWidth: 3
Viewer.ViewpointX: 0
Viewer.ViewpointY: -0.7
Viewer.ViewpointZ: -3.5
Viewer.ViewpointF: 500
